# EasyDS - 基于多智能体的智能教学系统

## 1. 系统概述

EasyDS 是一个基于大语言模型的多智能体协同教学系统，专注于数据结构教育。系统采用费曼学习法的教学理念，通过提示词生成智能体和教师智能体的协作完成教学过程。

### 1.1 核心特点

- 基于费曼学习法的引导式教学
- 动态提示词生成算法（RLHF/DPO对比）
- 知识图谱驱动的学习评估
- 自适应学习路径生成

## 2. 系统架构
```
EasyDS/
|—— functional_docs/
|   ├── main_plans.md      # 主计划文档
|   ├── data_processing.md # 数据处理文档
|   ├── prompt_generate_system.md # 提示词生成系统文档
|—— data/
│   ├── preference_data/   # DPO训练数据
│   │   ├── raw_data.jsonl
│   │   ├── train_data.jsonl
│   │   ├── eval_data.jsonl
│   │   └── test_data.jsonl
│   ├── rlhf_data/        # RLHF训练数据
│   │   ├── sft/          # SFT阶段数据
│   │   │   ├── sft_raw_data.jsonl
│   │   │   ├── sft_train_data.jsonl
│   │   │   └── sft_eval_data.jsonl
│   │   ├── rm/           # 奖励模型阶段数据
│   │   │   ├── rm_raw_data.jsonl
│   │   │   ├── rm_train_data.jsonl
│   │   │   └── rm_eval_data.jsonl
│   │   └── ppo/          # PPO阶段数据
│   │       ├── ppo_raw_data.jsonl
│   │       ├── ppo_train_data.jsonl
│   │       └── ppo_eval_data.jsonl
├── src/
│   ├── data/
│   │   ├── __init__.py
│   │   ├── processor.py
|   |   ├── generate_rm_data.py
│   │   └── generate_sft_data.py
│   ├── agents/
│   └── models/
|       ├──dpo/
|       └──rlhf/
|           ├──sft/
|           |   ├──arguments.py
|           |   ├──data_preprocess.py
|           |   ├──utils.py
|           |   ├──default_config.yaml
|           |   ├──zero_stage3_config.json
|           |   ├──train.sh
|           |   ├──train.py
|           |   └──evaluate.py
|           ├──rm/
|           |   ├──config.yaml
|           |   ├──train.py
|           |   └──evaluate.py
|           └──ppo/
|               ├──config.yaml
|               ├──train.py
|               └──evaluate.py
└── configs/
    ├── dpo_config.yaml   # DPO配置
    └── rlhf/             # RLHF配置
        ├── sft_config.yaml
        ├── rm_config.yaml
        └── ppo_config.yaml

```

### 2.1 智能体组成

1. **提示词生成智能体**
   - 基于历史对话动态生成教师智能体的系统提示
   - 优化教学引导策略
   - RLHF与DPO两种实现方案对比

2. **教师智能体**
   - 实现费曼学习法的引导式教学
   - 错误诊断与方向性指导
   - 学习进度追踪与调整

### 2.2 核心模块

1. **动态提示词生成系统**
   - RLHF训练框架 (基于OpenRLHF)
     * 奖励模型设计
     * 强化学习优化
     * 分布式训练支持
   - DPO训练框架
     * 偏好数据构建
     * 直接偏好优化
   - 对比实验框架

2. **知识图谱评估系统**
   - 数据结构知识体系构建
   - 动态评估算法
   - 学习路径自适应生成
   - 多维度学习效果分析

3. **多智能体协同框架**
   - 基于LangGraph的智能体通信
   - 会话状态管理
   - 智能体角色定义

## 3. 实现计划

### 3.1 第一阶段：动态提示词生成系统

1. **数据准备**
   - 收集数据结构教学对话数据
   - 构建高质量引导式教学案例
   - 准备RLHF和DPO训练数据

2. **模型训练与对比**
   - RLHF实现路线 (OpenRLHF框架)
     * SFT模型训练
     * 奖励模型训练
     * PPO优化过程
     * 提示词质量评估
   
   - DPO实现路线
     * 偏好数据构建
     * 模型训练优化
     * 效果评估
   
   - 对比实验
     * 提示词质量评估
     * 教学效果对比
     * 计算资源消耗分析
     * 训练效率对比

3. **评估体系**
   - 提示词相关性评估
   - 教学效果评估
   - 系统性能评估
   - 用户体验评估

4. **实验数据收集**
   - 构建评估数据集
     * 简单问题样本
     * 复杂问题样本
     * 边界情况测试
   
   - 数据准备策略
     * DPO偏好数据构建
     * RLHF奖励建模数据
     * 验证数据集划分
     * 测试数据准备

5. **结果分析**
   - 优势对比
     * DPO vs RLHF性能差异
     * 场景适用性分析
     * 成本效益分析
   
   - 改进建议
     * 模型优化方向
     * 数据质量提升
     * 训练策略调整

### 3.2 第二阶段：知识图谱评估系统

1. **知识图谱构建**
   - 数据结构知识点提取
   - 知识点关系建模
   - 难度层级设计
   - 学习路径规划

2. **评估算法开发**
   - 动态评估模型设计
   - 实时学习状态追踪
   - 错误模式识别
   - 学习效果分析

3. **自适应机制实现**
   - 个性化学习路径生成
   - 薄弱环节识别
   - 学习速度调整
   - 知识点关联分析

### 3.3 第三阶段：多智能体系统

1. **基础框架搭建**
   - LangGraph环境配置
   - 智能体通信协议设计
   - 会话流程实现

2. **智能体开发**
   - 学生智能体实现
   - 教师智能体集成
   - 用户交互模块开发

3. **知识图谱构建**
   - 数据结构知识体系整理
   - 图谱关系定义
   - 知识点难度划分

### 3.4 第四阶段：系统集成

1. **模块整合**
   - 动态提示词系统接入
   - 知识图谱系统集成
   - 智能体协同调试

2. **系统优化**
   - 性能优化
   - 用户体验改进
   - 教学效果评估

## 4. 技术栈

- OpenRLHF: RLHF训练框架
- PyTorch: 模型训练基础框架
- Ray: 分布式训练支持
- Neo4j: 知识图谱存储
- FastAPI: 后端服务
- Vue.js: 前端界面

## 4. 技术栈

- PyTorch: 模型训练框架
- Neo4j: 知识图谱存储
- FastAPI: 后端服务
- Vue.js: 前端界面
- LangChain: 智能体框架

## 5. 评估指标

1. **教学效果**
   - 知识点掌握度
   - 学习进度达成率
   - 错误修正效率
   - 知识迁移能力

2. **系统性能**
   - 提示词生成质量
   - 响应时间
   - 资源利用率
   - 系统稳定性

3. **用户体验**
   - 学习投入度
   - 引导准确性
   - 交互流畅度
   - 满意度评分

## 6. 创新特色

1. **动态提示词生成**
   - RLHF与DPO方法对比
   - 上下文感知的提示词优化
   - 教学效果量化评估

2. **知识图谱驱动评估**
   - 多维度学习分析
   - 自适应路径生成
   - 个性化学习指导

3. **费曼学习法实践**
   - 引导式教学策略
   - 错误诊断机制
   - 深度理解促进

## 7. 后续扩展

1. **课程扩展**
   - 算法设计课程
   - 计算机系统课程
   - 编程语言课程

2. **功能增强**
   - 多模态交互
   - 协作学习支持
   - 学习数据分析
   - 教学效果预测