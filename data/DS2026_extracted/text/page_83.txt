第3章栈、队列和数组
71
3入，3出，4入，4出。对于选项B，可能的顺序是1入，2入，3入，3出，2出，4入，4出，1
出。对于选项D，可能的顺序是1入，1出，2入，3入，3出，2出，4入，4出。选项C没有对
应的序列，因为当4在栈中时，意味着前面的所有元素（1，2，3）都已在栈中或曾经入过栈，此时
若4第二个出栈，即栈中还有两个元素，且这两个元素是有序的（对应入栈顺序)，只能为(1,2),(l,
3),(2,3)，若是序列(1,2)，则3已在pi位置出栈，不可能再在p4位置出栈，若是(1,3)和(2,3)这种
情况中的任意一种，则3一定是下一个出栈元素，即p3一定是3，所以p4不可能是3。
【另解】对于C，p2为最后一个入栈元素4，则只有pi或ps出栈的元素有可能为3（请读者分
两种情况自行思考），而p4绝不可能为3。读者在解答此类题时，一定要注意出栈序列中的“最
后一个入栈元素”，这样可以节省答题的时间。
23.C
标识符只能以英文字母或下画线开头，而不能以数字开头。于上，由n、1、三个字符组合成
的标识符有n1_、n_1、_1n和_n1四种。第一种：n入栈再出栈，1入栈再出栈，_入栈再出栈。
第二种：n入栈再出栈，1入栈，_入栈，_出栈，1出栈。第三种：n入栈，1入栈，_入栈，_出
栈，1出栈，n出栈。而根据栈的操作特性，_n1这种情况不可能出现。
24.B
上溢是指存储器满，还往里写；下溢是指存储器空，还往外读。为了解决上溢，可给栈分配
很大的存储空间，但这样又会造成存储空间的浪费。共享栈的提出就是为了在解决上溢的基础上
节省存储空间，将两个栈放在同一段更大的存储空间内，这样，当一个栈的元素增加时，可使用
另一个栈的空闲空间，从而降低发生上溢的可能性。
25.A
这种情况就是前面我们所描述的，详细内容请参见本节考点精析部分对共享栈的讲解。另外，
读者可以思考当top1的初值为0，top2的初值为n-1时栈满的条件。
注意
栈顶、队头与队尾的指针的定义是不唯一的，做题时务必仔细审题和思考。
26.C
时刻注意栈的特点是先进后出，
，下表是出入栈的详细过程。
序号
说明
栈内
栈外
序号
说明
栈内
栈外
1
a入栈
a
8
e入栈
ae
bdc
2
b入栈
ab
9
f入栈
aef
bdc
3
b出栈
a
b
10
出栈
ae
bdef
4
c入栈
ac
b
11
e出栈
a
bdefe
5
d入栈
acd
b
12
a出栈
bdcfea
6
d出栈
ac
bd
13
g入栈
8
bdcfea
7
c出栈
a
bdc
14
8出栈
bdcfeag
栈内的最大深度为3，所以栈S的容量至少是3。
【另解】因为元素的出队顺序和入队顺序相同，所以元素的出栈顺序就是b,d,c,fe,α,g，
因此元素的出入栈次序为 Push(S,a), Push(S, b), Pop(S, b), Push(S, c), Push(S, d), Pop(S,d), Pop(S, c),
Push(S,e),Push(S,f),Pop(S,f),Pop(S,e),Pop(S,a),Push(S,g),Pop(S,g)。初始所需容量为O，
每做一次Push操作，容量加1：每做一次Pop操作，容量减1，记录的容量最大值为3。
