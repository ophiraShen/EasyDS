72
2026年数据结构考研复习指导
27.D
选项A由a入，b入，c入，d入，d出，c出，e入，e出，b出，f入，f出，a出得到；选
项B由a入，b入，c入，c出，b出，d入，d出，a出，e入，e出，f入，f出得到；选项C由
a入，b入，b出，c入，c出，a出，d入，e入，e出，f入，f出，d出得到；选项D由a入，a
出，b入，c入，d入，e入，f入，f出，e出，d出，c出，b出得到，但题意要求不允许连续3
次出栈操作，选项D不符。
【另解】先入栈的元素后出栈，入栈顺序为ab，c，d.e.f，所以连续出栈时的子序列必然是按
字母表逆序的，若出栈序列中出现了长度大于或等于3的连续逆序子序列，则为所选序列。
28.B
d第一个出栈，则c,b,α 出栈的相对顺序是确定的，出栈顺序必为d_c_b_a_，e的顺序不定，
在任意一个“_”上都有可能。
【另解】d首先出栈，则abc停留在栈中，此时栈的状态如下图所示。
此时可以有如下4种操作：①e入栈后出栈，则出栈序列为decba：②c出栈，e入栈后出栈，
出栈序列为dceba；③cb出栈，e入栈后出栈，出栈序列为dcbea：④cba出栈，e入栈后出栈，
出栈序列为dcbae。思路和上面其实一样。
29.C
显然，3之后的4,5,n都是P可取的数（一直入栈直到该数入栈后马上出栈）。接下来分
析1和2是否可取：P可以是3之前入栈的数（可能是1或2），也可以是4，当P=1时，P可
取2；当P=2时，P可取1。因此，p可能取除3外的所有数，个数为n-1。
30.D
按题意，出入栈操作的过程如下：
操作
栈内元素
出栈元素
Push
a
Push
ab
Pop
h
Push
ac
Pop
a
Push
ad
Push
ade
Pop
ad
因此，出栈序列为b,c,é。
31.D
通过模拟出入栈操作，可以判断入栈序列in和出栈序列out是否合法。因此，已知in序
列可以判断out序列是否为可能的出栈序列；已知out序列也可以判断in序列是否为可能的入
栈序列，选项A和B错误。若每个元素入栈后立即出栈，则in序列和out序列相同，选项C
错误。若所有元素都入栈后才依次出栈，则in序列和out序列互为倒序，选项D正确。
