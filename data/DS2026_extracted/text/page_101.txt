第3章栈、队列和数组
89
04.【解答】
1）顺序存储无法满足要求②的队列占用空间随着入队操作而增加。根据要求来分析：要求
①容易满足：链式存储方便开辟新空间，要求②容易满足：对于要求③，出队后的结点
并不真正释放，用队首指针指向新的队头结点，新元素入队时，有空余结点则无须开辟
新空间，赋值到队尾后的第一个空结点即可，然后用队尾指针指向新的队尾结点，这就
需要设计成一个首尾相接的循环单链表，类似于循环队列的思想。设置队头、队尾指针
后，链式队列的入队操作和出队操作的时间复杂度均为O（1)，要求④可以满足。
因此，采用链式存储结构（两段式单向循环链表），队首指针为front，队尾指针为rear。
2）该循环链式队列的实现可以参考循环队列，不同之处在于循环链式队列可以方便地增加空
间，出队的结点可以循环利用，入队时空间不够也可以动态增加。同样，循环链式队列也
要区分队满和队空的情况，这里参考循环队列牺牲一个单元来判断。初始时，创建只有一
个空结点的循环单链表，头指针front和尾指针rear均指向空结点，如下图所示。
frontrear
队空的判定条件：front==rear。
队满的判定条件：front==rear->next。
3）插入第一个元素后的状态如下图所示。
front
rear
4）操作的基本过程如下：
入队操作：
若（front==rear->next)
//队满
则在rear后面插入一个新的空闲结点；
入队元素保存到rear所指结点中；rear=real
>next；返回。
出队操作：
若（front==rear)
//队空
则出队失败，返回；
取front所指结点中的元素e；fron
ext；返回e
3.3栈和队列的应用
要熟练掌握栈和队列，必须学习栈和队列的应用，把握其中的规律，然后举一反三。接下来
将简单介绍栈和队列的一些常见应用。
3.3.1栈在括号匹配中的应用
假设表达式中允许包含两种括号：圆括号和方括号，其嵌套的顺序任意即（[]（））或[（[][]）]
等均为正确的格式，【（]）或（[（））或（（）］均为不正确的格式。
考虑下列括号序列：
